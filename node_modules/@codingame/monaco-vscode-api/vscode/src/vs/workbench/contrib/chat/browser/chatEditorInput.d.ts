import { Disposable } from "../../../../base/common/lifecycle.js";
import { ThemeIcon } from "../../../../base/common/themables.js";
import { URI } from "../../../../base/common/uri.js";
import { ConfirmResult } from "../../../../platform/dialogs/common/dialogs.js";
import { IDialogService } from "../../../../platform/dialogs/common/dialogs.service.js";
import { IInstantiationService } from "../../../../platform/instantiation/common/instantiation.js";
import { EditorInputCapabilities, IEditorIdentifier, IEditorSerializer, IUntypedEditorInput, Verbosity } from "../../../common/editor.js";
import { EditorInput, IEditorCloseHandler } from "../../../common/editor/editorInput.js";
import { IChatEditingSession } from "../common/chatEditingService.js";
import { IChatModel } from "../common/chatModel.js";
import { IChatService } from "../common/chatService.service.js";
import { IChatSessionsService } from "../common/chatSessionsService.service.js";
import { IClearEditingSessionConfirmationOptions } from "./actions/chatActions.js";
import type { IChatEditorOptions } from "@codingame/monaco-vscode-chat-service-override/vscode/vs/workbench/contrib/chat/browser/chatEditor";
export declare class ChatEditorInput extends EditorInput implements IEditorCloseHandler {
    readonly resource: URI;
    readonly options: IChatEditorOptions;
    private readonly chatService;
    private readonly dialogService;
    private readonly chatSessionsService;
    private readonly instantiationService;
    /** Maps input name strings to sets of active editor counts */
    static readonly countsInUseMap: Map<string, Set<number>>;
    static readonly TypeID: string;
    static readonly EditorID: string;
    private readonly inputCount;
    private readonly inputName;
    private _sessionResource;
    /**
     * Get the uri of the session this editor input is associated with.
     *
     * This should be preferred over using `resource` directly, as it handles cases where a chat editor becomes a session
     */
    get sessionResource(): URI | undefined;
    private hasCustomTitle;
    private didTransferOutEditingSession;
    private cachedIcon;
    private readonly modelRef;
    private get model();
    static getNewEditorUri(): URI;
    private static getNextCount;
    constructor(resource: URI, options: IChatEditorOptions, chatService: IChatService, dialogService: IDialogService, chatSessionsService: IChatSessionsService, instantiationService: IInstantiationService);
    closeHandler: this;
    showConfirm(): boolean;
    transferOutEditingSession(): IChatEditingSession | undefined;
    confirm(editors: ReadonlyArray<IEditorIdentifier>): Promise<ConfirmResult>;
    get editorId(): string | undefined;
    get capabilities(): EditorInputCapabilities;
    matches(otherInput: EditorInput | IUntypedEditorInput): boolean;
    get typeId(): string;
    getName(): string;
    getTitle(verbosity?: Verbosity): string;
    private getSessionTypeDisplayName;
    getIcon(): ThemeIcon | URI | undefined;
    private resolveIcon;
    /**
     * Returns chat session type from a URI, or {@linkcode localChatSessionType} if not specified or cannot be determined.
     */
    getSessionType(): string;
    resolve(): Promise<ChatEditorModel | null>;
    private iconsEqual;
    dispose(): void;
}
export declare class ChatEditorModel extends Disposable {
    readonly model: IChatModel;
    private _isResolved;
    constructor(model: IChatModel);
    resolve(): Promise<void>;
    isResolved(): boolean;
    isDisposed(): boolean;
}
export declare class ChatEditorInputSerializer implements IEditorSerializer {
    canSerialize(input: EditorInput): input is ChatEditorInput;
    serialize(input: EditorInput): string | undefined;
    deserialize(instantiationService: IInstantiationService, serializedEditor: string): EditorInput | undefined;
}
export declare function showClearEditingSessionConfirmation(model: IChatModel, dialogService: IDialogService, options?: IClearEditingSessionConfirmationOptions): Promise<boolean>;
export declare function shouldShowClearEditingSessionConfirmation(editingSession: IChatEditingSession): boolean;
